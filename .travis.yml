language: node_js
node_js: '6'
sudo: enabled
before_install:
  - sudo sh -c 'echo "deb [arch=amd64] https://apt-mo.trafficmanager.net/repos/dotnet-release/ trusty main" > /etc/apt/sources.list.d/dotnetdev.list'
  - sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 417A0893
  - sudo apt-get update
  - sudo apt-get install dotnet-dev-1.0.4
cache:
  directories:
  - bower_components
  - node_modules
  - output
  - $HOME/.cache/bower
  - $HOME/.nuget/packages
notifications:
  slack:
    secure: IeuuD+F4GlTrrm/AFPk30PbRN6iYpq2SO9ta9C40UGtWWTR4bmxZUb5WftrRbt4dBtBb5+NrOBgEIIb5PhHvJP93k38OJgybBDoLzs163O4WQHivA9OztDGoWeE3SLSfRaaH+GSU3IzWRaNPbf9KFPsi5ydQdw3R9jv61w4EUKXmSsGuArOpGP2wFpKD0gamhkzjdYlsVWL/TDEVly1BYkT/8JcYqLKtgrKm8/7G5sT6utzdDAINofvooUyKlxBGx6sgWzKgvmSPPp9GWAp5UZq9rp9xsXf/l6h6gWsyTWrM+6jV94GdUQRgb8SxsrVWtDvKuNPuCJ3M8z1kb9hHY8aSQvZSxmCBm84bQkDT0ifkq+Ij9t1fsXOlMPSLAXjTGY39gLLL71eK/1NgmnchgzkifOjfFGC8/5m/yNGFmeA0nBxHtmGslkgJUHUUZkhkO2o31NQub2a7XfFmLzi9jO145kZU/5D/pQ2oncCs+MUdc5PyCiaVRgiG+v6EYw56+CTO/lgEYdjoOeuoTVQaZJmwwmZRQOczkLCQrv2i6wsq76OBrJBE/IarjPdnNobYLduovRocOSPHdOgoCes0ZG4PKi9jLLCNwCRYJAd0vunHDh7lipJmbq56JJiq6xMu8RvL228BSF51PRs8Wv0YipzSnLJQkjuHrmYUGyGlxGs=
before_deploy:
  - npm run deploy
deploy:
  provider: gcs
  access_key_id: GOOGNPS7EMS255T46UCZ
  secret_access_key:
    secure: fRBjrrbKI+zCpCYCzHVhHr1GKWs96XJvwkNvWj0Rm+XTCclf3RO8h721Ttv/sKI0f0CrIqoSadp3QB1j8QJ+9KXvJCa8Sq72Bz3TxGkjxG8Qdxoo6AlytGLjldtoZ1YTdIFFBcrH1X/J5GkvQ3T89g41wsABWQF4cJfqlVfRHkvgjE36zPuMfpXdOxBu2N8sUsjm4wi+G478oZe86F+Tl4XnTVRi416WKvs6xnbXTw9iuq2WrKmVnSnzIynC69uyFgsmH63hsJHw+Vcr4Az7HGsEZGg3X/tEFKdf/bZ3i1NOqxaORbc2xGm+5cJwrA7SsSSK06rsYQH0bI+kl0CPeVWw0PNjKB50T88Lest5z6VX2CqlQz6NF5iS/8DtRAjSDsUIGpePy3nE1gyhs+wTJ/H4gnIZyDWlXvDPVqt1HvYqzhkEP5KATFtKBXlbfZrSj/cVXZMdFwR0w/iVWdtDUwBmL35szrDdj3mSJKByJXmkIkbd5R3SoatUmgUr7BQ45Eofuis4N09h0g3IQ3RaTMWOeW1EzfRDO5REQwwYuobZhcByGxKMHIlLfujadV23/rFgGFGLzIutIx0ogXysVnkaqJvRGMWqI5ORFX5OWiZXdlb/jJCXOrDVl5Auhl1w5zRktevK35kFD8zMNzFhA4z3zy9q2lvzLMtscSovOhI=
  bucket: quicktype-io
  local-dir: app/build
  skip_cleanup: true
  acl: public-read
  on:
    repo: dvdsgl/quicktype
    branch: master
